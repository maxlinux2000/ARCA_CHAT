# ARCA_CHAT: Tu Bibliotecario IA Offline üìöü§ñ

**ARCA_CHAT** es una soluci√≥n de inteligencia artificial dise√±ada para actuar como un bibliotecario personal, privado y resiliente. A diferencia de los modelos de chat comerciales, reside completamente en tu hardware, permiti√©ndote **dialogar directamente con tus propios documentos, libros y archivos** sin que un solo bit de informaci√≥n salga de tu equipo.

El proyecto nace de la necesidad de rescatar, organizar y consultar el conocimiento digital personal en un entorno de soberan√≠a tecnol√≥gica absoluta.

---

## üåü El Coraz√≥n del Proyecto: Di√°logo con la Biblioteca

El prop√≥sito principal de ARCA_CHAT es establecer un puente interactivo con tu propia base de conocimiento (la Biblioteca del Arca):

* **Interacci√≥n con Libros (RAG):** Puedes preguntarle a ARCA sobre conceptos espec√≠ficos tratados en vol√∫menes extensos y recibir respuestas basadas exclusivamente en esos textos.
* **An√°lisis de Documentaci√≥n:** Ideal para revisar manuales t√©cnicos, documentos hist√≥ricos o colecciones personales de manera conversacional.
* **Soberan√≠a y Privacidad:** El "bibliotecario" trabaja a puerta cerrada. Todo el procesamiento es local, garantizando que el acceso al conocimiento no dependa de servidores externos ni de pol√≠ticas de terceros.

---

## ‚öôÔ∏è ¬øC√≥mo funciona?

ARCA_CHAT utiliza una arquitectura de **Generaci√≥n Aumentada por Recuperaci√≥n** (RAG), combinando la potencia de procesamiento de lenguaje natural con una gesti√≥n de memoria local eficiente.

El proceso se divide en tres etapas:

1.  **Ingesta y Fragmentaci√≥n:** El sistema procesa tus archivos (PDF, Markdown, Texto plano, etc.) y los divide en fragmentos manejables.
2.  **Indexaci√≥n (La Memoria del Arca):** Estos fragmentos se convierten en representaciones num√©ricas (*embeddings*) almacenadas en una base de datos vectorial local. Esto permite a la IA localizar informaci√≥n relevante en segundos.
3.  **Consulta y Respuesta:** Al realizar una pregunta, el sistema busca los fragmentos m√°s pertinentes en tu biblioteca y se los entrega al modelo de lenguaje local (`llama.cpp`) para generar una respuesta fundamentada √∫nicamente en tus documentos.

El Flujo Operativo de ARCA

    Ingesta Gen√©rica (arca-ingest): Se procesan los documentos (PDF/Texto) y se codifican visualmente para generar un video MP4. Este video sirve como el "contenedor" de la informaci√≥n √≠ntegra tal como est√° en el libro de origen.

    Destilaci√≥n At√≥mica (arca-distiller): El sistema analiza el video frame a frame. Utiliza gemma2:2b (u otro modelo ligero) para interpretar los datos de cada QR/Frame y extraer √°tomos de conocimiento (s√≠ntesis corta y pura).

    Indexaci√≥n Maestro (engram.mv2): Estos √°tomos se guardan en archivos .txt (codificados en Base64) y se empaquetan en un √∫nico √≠ndice vectorial maestro: engram.mv2.

    Consulta Inteligente (arca-chat): En lugar de navegar por toda la biblioteca de libros originales, el chat consulta exclusivamente la destilaci√≥n. Esto garantiza respuestas t√©cnicas, ultra-r√°pidas y libres de "paja" literaria.

    Adaptabilidad de Recursos: El sistema detecta la RAM f√≠sica para ajustar la ventana de contexto (2048 o 4096 tokens) y el n√∫mero de √°tomos (2 o 3) que la IA puede "recordar" simult√°neamente.

Ejemplo:
## üöÄ Flujo de Trabajo: De PDF a Memoria At√≥mica

El sistema **ARCA** utiliza un proceso de destilaci√≥n √∫nico para transformar documentos densos en engramas t√°cticos consultables en tiempo real.

### 1. Ingesta (Generaci√≥n de V√≠deo MP4)
Primero, convertimos el documento original en un contenedor visual de alta densidad (MP4) que facilita el procesamiento por frames.
```bash
arca-ingest /ruta/al/libro_estrategia.pdf
```

Salida: Se genera un archivo en ~/IA/vectors/libro_estrategia.mp4.

2. Destilaci√≥n (Extracci√≥n de Engramas)

Ejecutamos el destilador at√≥mico. El sistema analiza el video frame a frame, utiliza Gemma 2B para sintetizar cada concepto y genera una base de datos de "√°tomos de conocimiento" en formato .mv2.

```
arca-distiller ~/IA/vectors/libro_estrategia.mp4
```
# Inicia el n√∫cleo de chat
```
arca-chat
```
# O usa el modo debug para ver los engramas recuperados
```
arca-chat --debug
```
üß† Arquitectura del Sistema

Ingest	arca-ingest	Codifica PDFs en secuencias de video QR/Visual.
Distill	arca-distiller	S√≠ntesis IA de frames y guardado en Base64.
Search	arca-atomic-search	B√∫squeda vectorial ultra-r√°pida en engram.mv2.
Chat	arca-chat	Interfaz de operador con contexto din√°mico seg√∫n RAM.

Nota de eficiencia: ARCA no lee el libro completo en cada pregunta; consulta directamente los √°tomos destilados, lo que permite respuestas t√©cnicas y precisas en segundos.

üì¶ Instalaci√≥n en Debian y Derivados

La implementaci√≥n del ecosistema ARCA est√° dise√±ada para ser modular y sencilla, ideal para entornos sin conexi√≥n permanente a internet. El proceso de despliegue se realiza ejecutando una secuencia l√≥gica de scripts numerados que preparan desde las dependencias b√°sicas hasta el entorno de ejecuci√≥n de la IA.

Para instalar el sistema completo, simplemente ejecuta los scripts del 1 al 6 en orden secuencial desde tu terminal:

---

## üõ†Ô∏è Tecnolog√≠as Clave

Para asegurar el funcionamiento en hardware dom√©stico y sistemas aislados (Debian 12 / Raspberry Pi), ARCA_CHAT se apoya en:

* **ollama:** El motor principal para ejecutar modelos de lenguaje potentes con alta eficiencia.
* **Memvid:** Integraci√≥n para la gesti√≥n inteligente del contexto y la memoria de largo plazo de los documentos.
* **Instalaci√≥n Offline:** Uso de scripts para empaquetar dependencias y modelos, permitiendo el despliegue del sistema sin necesidad de conexi√≥n a internet.

---

> [!IMPORTANT]
> **Estado del proyecto:** ARCA_CHAT se encuentra actualmente "en altamar". El desarrollo est√° en fase activa de arquitectura y dise√±o de la base de datos vectorial. Los scripts de despliegue final se a√±adir√°n una vez consolidada la estructura del "Bibliotecario".
